---
id: T-001-05
story: S-001
title: camera-system
type: task
status: open
priority: high
phase: done
depends_on: [T-001-04]
---

## Context

Implement the Sonic 2 camera system with horizontal borders, vertical focal point, and speed-dependent scroll rates.

Reference: docs/specification.md section 2 (camera constants from physics research)

## Acceptance Criteria

- [ ] `camera.py` implements:
  - Horizontal tracking: left border at 144px, right border at 160px from screen edge
  - Horizontal scroll speed capped at 16px/frame
  - Vertical focal point at 96px
  - Airborne vertical borders: ±32px from focal point, scroll capped at 16px/frame
  - Ground vertical scroll: 6px/frame when ground_speed < 8, 16px/frame when ground_speed >= 8
  - Look up/down: pressing up shifts focal down 104px at 2px/step, pressing down shifts focal up 88px at 2px/step, returns to default at 2px/step on release
  - Camera bounded to level dimensions (no scrolling past level edges)
- [ ] Camera integrates with `pyxel.camera()` for viewport offset
- [ ] Smooth tracking — no jitter at tile boundaries or during high-speed movement
- [ ] Works correctly with the player demo from T-001-04
