---
id: T-002-03
story: S-002
title: stage-2-pipe-works
type: task
status: open
priority: high
phase: done
depends_on: [T-002-02]
---

## Context

Create the Stage 2 SVG layout — a three-route industrial level with launch pipes and a liquid rise mechanic.

Reference: docs/specification.md section 7.2

## Acceptance Criteria

- [ ] `stages/pipe_works.svg` created with:
  - Dimensions: ~5600x1024 viewBox
  - Three horizontal routes: low (y=768–1024), mid (y=384–640), high (y=0–256)
  - Section 1 (0–800): entry hall, all routes visible, player starts mid
  - Section 2 (800–2800): diverged paths — low (flat, enemies, top-only over liquid), mid (gaps, launch pipes ×4), high (fast path, dense rings, 2 drop-down shortcuts)
  - Section 3 (2800–3800): liquid rise zone with liquid_trigger entity
  - Section 4 (3800–4800): reconvergence, downhill
  - Section 5 (4800–5600): goal
- [ ] Pipeline produces valid output, zero critical validation flags
- [ ] `speednik/stages/pipeworks.py` loads the pipeline output
- [ ] ~300 rings, springs at route transitions, 4 pipe entities, 2 checkpoints
- [ ] Spindash-off-slope geometry at entry to high route produces correct angle values for launch
