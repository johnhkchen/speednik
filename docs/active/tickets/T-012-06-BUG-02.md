---
id: T-012-06-BUG-02
story: S-012
title: large-loop-exit-overshoot
type: bug
status: open
priority: medium
phase: done
depends_on: [T-012-06-BUG-01]
---

## Summary

For synthetic loops with radius >= 64, the player never lands on the exit flat tiles
after the loop. The player goes airborne (related to T-012-06-BUG-01 — loop not fully
traversed) and overshoots the exit region entirely, never returning to on_ground within
600 simulation frames.

## Reproduction

```python
from speednik.grids import build_loop
from speednik.simulation import create_sim_from_lookup, sim_step

_, lookup = build_loop(approach_tiles=15, radius=64, ground_row=20, ramp_radius=32)
sim = create_sim_from_lookup(lookup, 48.0, 300.0)
# Spindash then hold right for 600 frames
# loop_end_x = 15*16 + 32 + 2*64 = 400
# -> no on-ground frames past x=400
```

Tested radii: 64 and 96 both fail. Radii 32 and 48 pass (player lands on exit tiles).

## Analysis

With larger loops, the ramp entry launches the player at a steeper angle and higher
speed. Combined with the loop not being traversable (BUG-01), the player goes fully
airborne and the exit flat tiles are too close to catch the ballistic arc. The player
flies past all terrain and falls indefinitely.

This is a secondary consequence of BUG-01. If the loop were fully traversable, the
player would exit the loop on the ground and this bug would not manifest.

## Impact

Larger loops (radius >= 64) are not usable as building blocks — the player cannot
enter, traverse, or exit them in a controlled manner.
