# Structure — T-001-01: Project Scaffolding

## Files Created

### 1. `pyproject.toml` (new)

Root-level project configuration.

```
[project]
  name = "speednik"
  version = "0.1.0"
  description = "A Sonic 2 homage built with Pyxel"
  requires-python = ">=3.10"
  dependencies = ["pyxel"]

[build-system]
  requires = ["hatchling"]
  build-backend = "hatchling.build"
```

No extras, no optional dependencies, no scripts entry. The entry point is
`python -m speednik.main`, not a console script.

### 2. `.gitignore` (new)

Standard Python + uv ignores:

```
__pycache__/
*.pyc
*.pyo
.venv/
*.egg-info/
dist/
build/
.DS_Store
```

### 3. `speednik/__init__.py` (new)

Empty file. Package marker only. No version string, no imports.

### 4. `speednik/main.py` (new)

Minimal Pyxel application.

**Public interface:**
- `class App` — game application class
  - `__init__()` — calls `pyxel.init(256, 224, title="Speednik", fps=60)` then
    `pyxel.run(self.update, self.draw)`
  - `update()` — handles quit on Q key press
  - `draw()` — clears screen to color 1 (dark blue), draws "Speednik" centered

**Module-level:**
- `if __name__ == "__main__": App()` — enables `python -m speednik.main`

**Dependencies:** `pyxel` only.

**Size:** ~20 lines.

### 5. `speednik/constants.py` (new)

Empty file. Stub for T-001-02 which will populate it with all physics constants,
screen dimensions, and game parameters.

### 6. `speednik/stages/__init__.py` (new)

Empty file. Subpackage marker for future stage data modules (hillside.py, pipeworks.py,
skybridge.py).

### 7. `tools/.gitkeep` (new)

Empty file. Git doesn't track empty directories. This ensures `tools/` exists in the
repo. Will be removed when `tools/svg2stage.py` is added in a future ticket.

## Files Modified

### 8. `CLAUDE.md` (modified)

Add a "Build & Run" section after the existing content:

```markdown
## Build & Run

- **Install dependencies:** `uv sync`
- **Run the game:** `uv run python -m speednik.main`
- **Add a dependency:** `uv add <package>`
```

Also update the project description line from placeholder to actual description.

## Generated Files (not committed, created by uv)

After `uv sync`, these will be generated:

- `uv.lock` — lockfile pinning exact dependency versions. **Committed** to repo.
- `.venv/` — virtual environment. **Not committed** (in .gitignore).
- `.python-version` — may be created by uv. **Committed** if created.

## Directory Tree After Completion

```
speednik/                   # repo root
├── .gitignore              # NEW
├── pyproject.toml          # NEW
├── uv.lock                 # NEW (generated by uv sync)
├── CLAUDE.md               # MODIFIED
├── LICENSE
├── .lisa.toml
├── .lisa-layout.kdl
├── .lisa/
├── .claude/
├── assets/
│   ├── MAIN_MENU_Genesis_of_Glory.mp3
│   ├── LV1_Pixel_Pursuit.mp3
│   ├── LV2_Chrome_Citadel.mp3
│   └── LV3_Genesis_Gauntlet.mp3
├── docs/
│   ├── specification.md
│   ├── active/
│   │   ├── tickets/
│   │   ├── stories/
│   │   └── work/
│   │       └── T-001-01/    # Work artifacts
│   ├── archive/
│   └── knowledge/
├── tools/
│   └── .gitkeep            # NEW
└── speednik/               # NEW — Python package
    ├── __init__.py          # NEW
    ├── main.py              # NEW
    ├── constants.py         # NEW
    └── stages/
        └── __init__.py      # NEW
```

## Module Boundaries

- `speednik/main.py` imports only `pyxel`. No internal cross-imports.
- `speednik/constants.py` is empty — no imports, no exports.
- `speednik/stages/__init__.py` is empty — no imports, no exports.
- `speednik/__init__.py` is empty — no imports, no exports.

This is the minimal viable structure. Future tickets add modules that import from
`constants.py` and each other, but this ticket creates no coupling.

## Ordering of Changes

1. `.gitignore` first (before any Python files generate `__pycache__/`)
2. `pyproject.toml` (defines the project for uv)
3. Package directory structure (`speednik/`, `speednik/stages/`, `tools/`)
4. Source files (`__init__.py`, `main.py`, `constants.py`, `stages/__init__.py`)
5. `uv sync` (installs dependencies, creates lockfile)
6. Verify `uv run python -m speednik.main` launches
7. Update `CLAUDE.md`
8. Commit
