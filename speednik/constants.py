# speednik/constants.py — All physics constants from specification §2.1–2.4, §3.2

# Screen (§1)
SCREEN_WIDTH = 256
SCREEN_HEIGHT = 224
FPS = 60

# Ground movement (§2.1)
ACCELERATION = 0.046875
DECELERATION = 0.5
FRICTION = 0.046875
TOP_SPEED = 6.0
ROLLING_FRICTION = 0.0234375
ROLLING_DECELERATION = 0.125
MIN_ROLL_SPEED = 0.5
MAX_X_SPEED = 16.0

# Air movement (§2.2)
GRAVITY = 0.21875
JUMP_FORCE = 6.5
AIR_ACCELERATION = 0.09375
JUMP_RELEASE_CAP = -4.0

# Slopes (§2.3)
SLOPE_FACTOR_RUNNING = 0.125
SLOPE_FACTOR_ROLL_UP = 0.078125
SLOPE_FACTOR_ROLL_DOWN = 0.3125

# Spindash (§2.4)
SPINDASH_CHARGE_INCREMENT = 2.0
SPINDASH_MAX_CHARGE = 8.0
SPINDASH_DECAY_DIVISOR = 32.0
SPINDASH_BASE_SPEED = 8.0

# Sensors (§3.2)
STANDING_WIDTH_RADIUS = 9
STANDING_HEIGHT_RADIUS = 20
ROLLING_WIDTH_RADIUS = 7
ROLLING_HEIGHT_RADIUS = 14
WALL_SENSOR_EXTENT = 10

# Slip (§2.3)
SLIP_SPEED_THRESHOLD = 2.5
SLIP_DURATION = 30
# 46° in byte angle: 46 * 256 / 360 ≈ 32.7 → 33
SLIP_ANGLE_THRESHOLD = 33

# Player damage (§8)
INVULNERABILITY_DURATION = 120  # 2 seconds at 60fps
MAX_SCATTER_RINGS = 32
SCATTER_RING_LIFETIME = 180  # 3 seconds at 60fps
HURT_KNOCKBACK_X = 2.0
HURT_KNOCKBACK_Y = -4.0

# Angle system
ANGLE_STEPS = 256

# Camera horizontal
CAMERA_LEFT_BORDER = 144
CAMERA_RIGHT_BORDER = 160
CAMERA_H_SCROLL_CAP = 16

# Camera vertical
CAMERA_FOCAL_Y = 96
CAMERA_AIR_BORDER = 32
CAMERA_V_SCROLL_GROUND_SLOW = 6
CAMERA_V_SCROLL_GROUND_FAST = 16
CAMERA_V_SCROLL_AIR = 16
CAMERA_GROUND_SPEED_THRESHOLD = 8.0

# Camera look
CAMERA_LOOK_UP_MAX = 104
CAMERA_LOOK_DOWN_MAX = 88
CAMERA_LOOK_SPEED = 2
